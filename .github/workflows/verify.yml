name: Verify

on:
  pull_request:

jobs:
  build:
    name: Build
    uses: './.github/workflows/maven-build.yml'

  build-all:
    if: ${{ always() }}
    name: Build (matrix)
    runs-on: ubuntu-20.04
    needs: build
    steps:
      - name: Check build matrix status
        run: "[[ '${{ needs.build.result }}' == 'success' ]] || exit 1"
